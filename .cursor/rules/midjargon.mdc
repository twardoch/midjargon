---
description: "Midjargon configuration documentation for folder structure."
globs: []
---
# `midjargon`

`midjargon` is a hatch-managed Python library for parsing and manipulating Midjourney prompts using a specialized syntax. This tool helps you work with Midjourney prompts in a structured way, handling complex features like permutations, parameter validation, and image URL extraction.

Assistant: WHENEVER YOU MAKE EDITS AND YOU REPORT ON YOUR WORK â€” USE EMOJI! ðŸ˜Š

## Folder structure

### Root

```
â”œâ”€â”€ LICENSE                    # MIT license
â”œâ”€â”€ README.md                  # Project introduction and documentation
â”œâ”€â”€ TODO.md                    # Task list (clear before release)
â”œâ”€â”€ TODO2.md                   # Additional tasks and feature proposals
â”œâ”€â”€ dist                       # Distribution files
â”œâ”€â”€ docs                       # Project documentation
â”‚   â”œâ”€â”€ midjourney-docs.md      # Original Midjourney documentation
â”‚   â”œâ”€â”€ refactoring-ideas.md    # Refactoring ideas
â”‚   â””â”€â”€ specification.md        # Detailed prompt syntax specification
â”œâ”€â”€ package.toml               # Hatch project configuration
â”œâ”€â”€ pyproject.toml             # Python project configuration
â”œâ”€â”€ pytest.ini                 # Pytest configuration
â”œâ”€â”€ uv.lock                    # UV dependency lock file
```

### Source Code

```
â”œâ”€â”€ src
â”‚   â””â”€â”€ midjargon
â”‚       â”œâ”€â”€ __init__.py
â”‚       â”œâ”€â”€ __main__.py        # CLI entry point (Fire-based)
â”‚       â”œâ”€â”€ cli
â”‚       â”‚   â”œâ”€â”€ __init__.py
â”‚       â”‚   â””â”€â”€ main.py        # CLI command definitions
â”‚       â”œâ”€â”€ core
â”‚       â”‚   â”œâ”€â”€ __init__.py
â”‚       â”‚   â”œâ”€â”€ converter.py     # Conversion utilities for prompts
â”‚       â”‚   â”œâ”€â”€ input.py         # Input processing and permutation expansion
â”‚       â”‚   â”œâ”€â”€ parameters.py    # Parsing and validation of parameters
â”‚       â”‚   â”œâ”€â”€ parser.py        # Basic prompt parser converting text to dictionary
â”‚       â”‚   â”œâ”€â”€ permutations.py  # Permutation expansion logic
â”‚       â”‚   â””â”€â”€ type_defs.py     # Type definitions for midjargon
â”‚       â””â”€â”€ engines
â”‚           â”œâ”€â”€ __init__.py
â”‚           â”œâ”€â”€ base.py          # Abstract engine base for converters
â”‚           â”œâ”€â”€ fal            # Fal.ai engine implementation
â”‚           â”‚   â”œâ”€â”€ __init__.py
â”‚           â”‚   â””â”€â”€ converter.py   # Conversion to Fal.ai API format
â”‚           â””â”€â”€ midjourney     # Midjourney engine implementation
â”‚               â”œâ”€â”€ __init__.py
â”‚               â”œâ”€â”€ constants.py   # Parameter constraints and defaults
â”‚               â”œâ”€â”€ models.py      # Pydantic models for validated prompts
â”‚               â””â”€â”€ parser.py      # Engine-specific parsing logic
```

### Tests

```
â”œâ”€â”€ tests
â”‚   â”œâ”€â”€ cli
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â””â”€â”€ test_main.py       # CLI tests
â”‚   â”œâ”€â”€ conftest.py            # Pytest shared fixtures
â”‚   â”œâ”€â”€ core
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”œâ”€â”€ test_input.py      # Input handling tests
â”‚   â”‚   â”œâ”€â”€ test_parameters.py # Parameter parsing tests
â”‚   â”‚   â””â”€â”€ test_permutations.py # Permutation expansion tests
â”‚   â”œâ”€â”€ engines
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”œâ”€â”€ midjourney
â”‚   â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”‚   â””â”€â”€ test_parser.py  # Midjourney engine tests
â”‚   â”‚   â””â”€â”€ test_base.py       # Engine base functionality tests
â”‚   â”œâ”€â”€ integration
â”‚   â”‚   â””â”€â”€ test_workflow.py   # End-to-end workflow tests
â”‚   â””â”€â”€ test_package.py        # Package interface tests
```
